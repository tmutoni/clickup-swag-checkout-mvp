<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClickUp Swag Checkout MVP</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Inter font from Google Fonts */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5; /* Light gray background */
        }
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        /* Hide screens initially */
        .screen {
            display: none;
            flex-direction: column;
            width: 100%;
        }
        .screen.active {
            display: flex;
        }
        /* Button styling for consistent look */
        .primary-btn {
            @apply w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105;
        }
        .secondary-btn {
            @apply w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-3 px-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105;
        }
        /* Input styling */
        .form-input {
            @apply mt-1 block w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500;
        }
        /* Order Summary styling */
        .order-summary {
            @apply bg-purple-50 p-4 rounded-xl shadow-inner w-full;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4 sm:p-6 md:p-8">
    <div id="app" class="relative bg-white rounded-3xl shadow-xl overflow-hidden w-full max-w-md h-[80vh] sm:h-[90vh] flex flex-col">
        <!-- Header -->
        <header class="bg-purple-700 text-white p-4 flex items-center justify-between rounded-t-3xl shadow-md">
            <button id="back-btn" class="text-white text-2xl font-bold">&larr;</button>
            <h1 class="text-xl font-semibold" id="header-title">ClickUp Swag Store</h1>
            <div class="w-6"></div> <!-- Spacer -->
        </header>

        <!-- Main Content Area -->
        <main id="screen-container" class="flex-grow overflow-y-auto p-4 flex flex-col">

            <!-- 1. Product Listing / Sale Page -->
            <div id="product-listing-screen" class="screen active flex-col items-center space-y-4">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Featured Swag</h2>
                <div class="w-full bg-white rounded-xl shadow-md overflow-hidden">
                    <img src="https://placehold.co/400x200/6B46C1/FFFFFF?text=ClickUp+T-Shirt" alt="ClickUp T-Shirt" class="w-full h-48 object-cover">
                    <div class="p-4">
                        <h3 class="text-xl font-semibold text-gray-800">The Ultimate ClickUp Tee</h3>
                        <p class="text-gray-600 text-sm mb-2">Show your love for productivity with our premium cotton ClickUp T-shirt.</p>
                        <div class="flex justify-between items-center">
                            <p class="text-2xl font-bold text-purple-700">$24.99</p>
                            <button id="view-product-btn" class="bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-lg transition-all duration-300">
                                View Product
                            </button>
                        </div>
                    </div>
                </div>
                <!-- Add more product cards if desired -->
            </div>

            <!-- 2. Product Detail Page -->
            <div id="product-detail-screen" class="screen flex-col items-center space-y-4">
                <h2 class="text-2xl font-bold text-gray-800 mb-2">The Ultimate ClickUp Tee</h2>
                <div class="w-full h-48 bg-gray-200 rounded-xl overflow-hidden flex items-center justify-center shadow-md">
                    <img src="https://placehold.co/400x200/6B46C1/FFFFFF?text=ClickUp+T-Shirt" alt="ClickUp T-Shirt" class="object-cover w-full h-full">
                </div>
                <p class="text-gray-600 text-center px-2">Show your love for productivity with our premium cotton ClickUp T-shirt. Soft, stylish, and ready for your next big task!</p>
                <div class="flex items-center justify-center space-x-4 w-full">
                    <div class="flex flex-col items-center">
                        <label for="size" class="text-sm font-medium text-gray-700">Size:</label>
                        <select id="size" class="form-input w-24">
                            <option>S</option>
                            <option>M</option>
                            <option>L</option>
                            <option>XL</option>
                        </select>
                    </div>
                    <div class="flex flex-col items-center">
                        <label for="quantity" class="text-sm font-medium text-gray-700">Qty:</label>
                        <input type="number" id="quantity" value="1" min="1" class="form-input w-20 text-center">
                    </div>
                </div>
                <p class="text-3xl font-bold text-purple-700 mt-4">$24.99</p>
                <button id="add-to-cart-btn" class="primary-btn">
                    Add to Cart
                </button>
            </div>

            <!-- 3. Cart Page -->
            <div id="cart-screen" class="screen flex-col items-center space-y-4">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Your Cart</h2>
                <div class="w-full bg-white rounded-xl shadow-md overflow-hidden p-4">
                    <div class="flex items-center justify-between border-b pb-3 mb-3 border-gray-200">
                        <div class="flex items-center space-x-3">
                            <img src="https://placehold.co/60x60/6B46C1/FFFFFF?text=Tee" alt="ClickUp T-Shirt" class="w-16 h-16 rounded-lg object-cover">
                            <div>
                                <p class="font-semibold text-gray-800">ClickUp Tee (L)</p>
                                <p class="text-gray-500 text-sm">Quantity: 1</p>
                            </div>
                        </div>
                        <p class="font-bold text-gray-800">$24.99</p>
                    </div>
                    <!-- Add more cart items here if needed -->
                    <div class="flex justify-between items-center mt-4">
                        <span class="text-xl font-semibold text-gray-800">Subtotal:</span>
                        <span class="text-xl font-bold text-purple-700">$24.99</span>
                    </div>
                </div>
                <button id="proceed-to-checkout-btn" class="primary-btn mt-6">
                    Proceed to Checkout
                </button>
            </div>

            <!-- 4. Checkout Options Screen -->
            <div id="checkout-options-screen" class="screen flex-col items-center space-y-4">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Checkout</h2>

                <!-- Order Summary (Persistent) -->
                <div class="order-summary">
                    <h3 class="text-lg font-semibold text-purple-800 mb-2">Order Summary</h3>
                    <div class="flex justify-between text-gray-700 text-sm mb-1">
                        <span>ClickUp Tee (L x 1)</span>
                        <span>$24.99</span>
                    </div>
                    <div class="flex justify-between text-gray-700 text-sm mb-1">
                        <span>Shipping</span>
                        <span>$5.00</span>
                    </div>
                    <div class="flex justify-between text-gray-700 text-sm border-b pb-2 mb-2 border-purple-200">
                        <span>Tax (8%)</span>
                        <span>$2.00</span>
                    </div>
                    <div class="flex justify-between text-lg font-bold text-purple-800">
                        <span>Total</span>
                        <span>$31.99</span>
                    </div>
                </div>

                <!-- Checkout Options -->
                <div class="w-full space-y-3 mt-4">
                    <button id="guest-checkout-btn" class="primary-btn">
                        Continue as Guest
                    </button>
                    <div class="relative flex py-2 items-center">
                        <div class="flex-grow border-t border-gray-300"></div>
                        <span class="flex-shrink mx-4 text-gray-500">OR</span>
                        <div class="flex-grow border-t border-gray-300"></div>
                    </div>
                    <button class="secondary-btn">
                        Log in to ClickUp Account
                    </button>
                </div>
            </div>

            <!-- 5. Shipping Information Screen -->
            <div id="shipping-info-screen" class="screen flex-col items-center space-y-4">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Shipping Information</h2>

                <!-- Order Summary (Persistent) -->
                <div class="order-summary mb-4">
                    <h3 class="text-lg font-semibold text-purple-800 mb-2">Order Summary</h3>
                    <div class="flex justify-between text-gray-700 text-sm mb-1">
                        <span>ClickUp Tee (L x 1)</span>
                        <span>$24.99</span>
                    </div>
                    <div class="flex justify-between text-gray-700 text-sm mb-1">
                        <span>Shipping</span>
                        <span>$5.00</span>
                    </div>
                    <div class="flex justify-between text-gray-700 text-sm border-b pb-2 mb-2 border-purple-200">
                        <span>Tax (8%)</span>
                        <span>$2.00</span>
                    </div>
                    <div class="flex justify-between text-lg font-bold text-purple-800">
                        <span>Total</span>
                        <span>$31.99</span>
                    </div>
                </div>

                <!-- Shipping Form -->
                <form id="shipping-form" class="w-full space-y-4">
                    <div>
                        <label for="full-name" class="block text-sm font-medium text-gray-700">Full Name</label>
                        <input type="text" id="full-name" placeholder="John Doe" class="form-input" required>
                    </div>
                    <div>
                        <label for="address-line1" class="block text-sm font-medium text-gray-700">Address Line 1</label>
                        <input type="text" id="address-line1" placeholder="123 Main St" class="form-input" required>
                    </div>
                    <div>
                        <label for="address-line2" class="block text-sm font-medium text-gray-700">Address Line 2 (Optional)</label>
                        <input type="text" id="address-line2" placeholder="Apt 4B" class="form-input">
                    </div>
                    <div class="flex space-x-4">
                        <div class="flex-1">
                            <label for="city" class="block text-sm font-medium text-gray-700">City</label>
                            <input type="text" id="city" placeholder="Anytown" class="form-input" required>
                        </div>
                        <div class="flex-1">
                            <label for="state" class="block text-sm font-medium text-gray-700">State</label>
                            <input type="text" id="state" placeholder="CA" class="form-input" required>
                        </div>
                    </div>
                    <div>
                        <label for="zip-code" class="block text-sm font-medium text-gray-700">Zip Code</label>
                        <input type="text" id="zip-code" placeholder="90210" class="form-input" required>
                    </div>
                    <button type="submit" class="primary-btn mt-6">
                        Continue to Payment
                    </button>
                </form>
            </div>

            <!-- 6. Payment Information Screen -->
            <div id="payment-info-screen" class="screen flex-col items-center space-y-4">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Payment Information</h2>

                <!-- Order Summary (Persistent) -->
                <div class="order-summary mb-4">
                    <h3 class="text-lg font-semibold text-purple-800 mb-2">Order Summary</h3>
                    <div class="flex justify-between text-gray-700 text-sm mb-1">
                        <span>ClickUp Tee (L x 1)</span>
                        <span>$24.99</span>
                    </div>
                    <div class="flex justify-between text-gray-700 text-sm mb-1">
                        <span>Shipping</span>
                        <span>$5.00</span>
                    </div>
                    <div class="flex justify-between text-gray-700 text-sm border-b pb-2 mb-2 border-purple-200">
                        <span>Tax (8%)</span>
                        <span>$2.00</span>
                    </div>
                    <div class="flex justify-between text-lg font-bold text-purple-800">
                        <span>Total</span>
                        <span>$31.99</span>
                    </div>
                </div>

                <!-- Payment Form -->
                <form id="payment-form" class="w-full space-y-4">
                    <div>
                        <label for="card-number" class="block text-sm font-medium text-gray-700">Card Number</label>
                        <input type="text" id="card-number" placeholder="XXXX XXXX XXXX XXXX" class="form-input" required>
                        <p id="card-error" class="text-red-600 text-sm mt-1 hidden">Please enter a valid 16-digit card number.</p>
                    </div>
                    <div class="flex space-x-4">
                        <div class="flex-1">
                            <label for="expiry-date" class="block text-sm font-medium text-gray-700">Expiry (MM/YY)</label>
                            <input type="text" id="expiry-date" placeholder="MM/YY" class="form-input" required>
                            <p id="expiry-error" class="text-red-600 text-sm mt-1 hidden">Invalid expiry date.</p>
                        </div>
                        <div class="flex-1">
                            <label for="cvc" class="block text-sm font-medium text-gray-700">CVC</label>
                            <input type="text" id="cvc" placeholder="XXX" class="form-input" required>
                            <p id="cvc-error" class="text-red-600 text-sm mt-1 hidden">Invalid CVC.</p>
                        </div>
                    </div>
                    <div>
                        <label for="card-name" class="block text-sm font-medium text-gray-700">Name on Card</label>
                        <input type="text" id="card-name" placeholder="John Doe" class="form-input" required>
                    </div>
                    <button type="submit" class="primary-btn mt-6">
                        Review Order
                    </button>
                </form>
            </div>

            <!-- 7. Review Order Screen -->
            <div id="review-order-screen" class="screen flex-col items-center space-y-4">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Review Your Order</h2>

                <!-- Order Summary (Persistent) -->
                <div class="order-summary mb-4">
                    <h3 class="text-lg font-semibold text-purple-800 mb-2">Order Summary</h3>
                    <div class="flex justify-between text-gray-700 text-sm mb-1">
                        <span>ClickUp Tee (L x 1)</span>
                        <span>$24.99</span>
                    </div>
                    <div class="flex justify-between text-gray-700 text-sm mb-1">
                        <span>Shipping</span>
                        <span>$5.00</span>
                    </div>
                    <div class="flex justify-between text-gray-700 text-sm border-b pb-2 mb-2 border-purple-200">
                        <span>Tax (8%)</span>
                        <span>$2.00</span>
                    </div>
                    <div class="flex justify-between text-lg font-bold text-purple-800">
                        <span>Total</span>
                        <span>$31.99</span>
                    </div>
                </div>

                <div class="w-full bg-white rounded-xl shadow-md p-4 space-y-3">
                    <h3 class="text-lg font-semibold text-gray-800">Shipping To:</h3>
                    <p class="text-gray-700">John Doe</p>
                    <p class="text-gray-700">123 Main St, Apt 4B</p>
                    <p class="text-gray-700">Anytown, CA 90210</p>
                    <button id="edit-shipping-btn" class="text-purple-600 hover:underline text-sm mt-2">Edit Shipping</button>
                </div>

                <div class="w-full bg-white rounded-xl shadow-md p-4 space-y-3">
                    <h3 class="text-lg font-semibold text-gray-800">Payment Method:</h3>
                    <p class="text-gray-700">Visa ending in **** 1234</p>
                    <button id="edit-payment-btn" class="text-purple-600 hover:underline text-sm mt-2">Edit Payment</button>
                </div>

                <button id="place-order-btn" class="primary-btn mt-6">
                    Place Order
                </button>
            </div>

            <!-- 8. Order Confirmation Screen -->
            <div id="confirmation-screen" class="screen flex-col items-center justify-center text-center space-y-6 p-6">
                <svg class="w-24 h-24 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                <h2 class="text-3xl font-bold text-gray-800">Order Confirmed!</h2>
                <p class="text-gray-600 text-lg">Your ClickUp Tee is on its way. You'll receive a confirmation email shortly.</p>
                <button class="primary-btn">
                    Continue Shopping
                </button>
            </div>

            <!-- Message Box for Alerts (instead of alert()) -->
            <div id="message-box" class="fixed inset-x-0 bottom-4 mx-auto w-11/12 max-w-sm bg-gray-800 text-white p-4 rounded-lg shadow-lg text-center hidden z-50">
                <p id="message-content"></p>
                <button id="message-box-close" class="absolute top-1 right-2 text-white text-xl font-bold">&times;</button>
            </div>

        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const screens = {
                'product-listing-screen': document.getElementById('product-listing-screen'),
                'product-detail-screen': document.getElementById('product-detail-screen'),
                'cart-screen': document.getElementById('cart-screen'),
                'checkout-options-screen': document.getElementById('checkout-options-screen'),
                'shipping-info-screen': document.getElementById('shipping-info-screen'),
                'payment-info-screen': document.getElementById('payment-info-screen'),
                'review-order-screen': document.getElementById('review-order-screen'),
                'confirmation-screen': document.getElementById('confirmation-screen')
            };
            const backBtn = document.getElementById('back-btn');
            const headerTitle = document.getElementById('header-title');
            const screenContainer = document.getElementById('screen-container');

            // Navigation Buttons
            const viewProductBtn = document.getElementById('view-product-btn');
            const addToCartBtn = document.getElementById('add-to-cart-btn');
            const proceedToCheckoutBtn = document.getElementById('proceed-to-checkout-btn');
            const guestCheckoutBtn = document.getElementById('guest-checkout-btn');
            const shippingForm = document.getElementById('shipping-form');
            const paymentForm = document.getElementById('payment-form');
            const placeOrderBtn = document.getElementById('place-order-btn');
            const editShippingBtn = document.getElementById('edit-shipping-btn');
            const editPaymentBtn = document.getElementById('edit-payment-btn');

            // Form Inputs for validation demo
            const cardNumberInput = document.getElementById('card-number');
            const expiryDateInput = document.getElementById('expiry-date');
            const cvcInput = document.getElementById('cvc');

            // Error messages
            const cardError = document.getElementById('card-error');
            const expiryError = document.getElementById('expiry-error');
            const cvcError = document.getElementById('cvc-error');

            const messageBox = document.getElementById('message-box');
            const messageContent = document.getElementById('message-content');
            const messageBoxClose = document.getElementById('message-box-close');

            let currentScreenId = 'product-listing-screen';
            const screenHistory = ['product-listing-screen']; // To manage back button

            // Function to show message box
            function showMessage(message) {
                messageContent.textContent = message;
                messageBox.classList.remove('hidden');
                setTimeout(() => {
                    messageBox.classList.add('hidden');
                }, 4000); // Hide after 4 seconds
            }

            messageBoxClose.addEventListener('click', () => {
                messageBox.classList.add('hidden');
            });

            // Function to navigate between screens
            function navigateTo(screenId, pushToHistory = true) {
                // Hide all screens
                Object.values(screens).forEach(screen => screen.classList.remove('active'));
                // Show the target screen
                screens[screenId].classList.add('active');
                currentScreenId = screenId;
                screenContainer.scrollTop = 0; // Scroll to top

                // Update header title based on screen
                if (screenId === 'product-listing-screen') {
                    headerTitle.textContent = 'ClickUp Swag Store';
                } else if (screenId === 'product-detail-screen') {
                    headerTitle.textContent = 'Product Details';
                } else if (screenId === 'cart-screen') {
                    headerTitle.textContent = 'Your Cart';
                } else if (screenId === 'checkout-options-screen') {
                    headerTitle.textContent = 'Checkout';
                } else if (screenId === 'shipping-info-screen') {
                    headerTitle.textContent = 'Shipping';
                } else if (screenId === 'payment-info-screen') {
                    headerTitle.textContent = 'Payment';
                } else if (screenId === 'review-order-screen') {
                    headerTitle.textContent = 'Review Order';
                } else if (screenId === 'confirmation-screen') {
                    headerTitle.textContent = 'Order Complete';
                }

                // Manage history for back button
                if (pushToHistory && screenHistory[screenHistory.length - 1] !== screenId) {
                    screenHistory.push(screenId);
                }
            }

            // Back button functionality
            backBtn.addEventListener('click', () => {
                if (screenHistory.length > 1) {
                    screenHistory.pop(); // Remove current screen
                    const previousScreenId = screenHistory[screenHistory.length - 1];
                    navigateTo(previousScreenId, false); // Navigate back without adding to history
                }
            });

            // Event Listeners for Navigation
            viewProductBtn.addEventListener('click', () => {
                navigateTo('product-detail-screen');
            });

            addToCartBtn.addEventListener('click', () => {
                showMessage("Item added to cart!");
                navigateTo('cart-screen');
            });

            proceedToCheckoutBtn.addEventListener('click', () => {
                navigateTo('checkout-options-screen');
            });

            guestCheckoutBtn.addEventListener('click', () => {
                navigateTo('shipping-info-screen');
            });

            shippingForm.addEventListener('submit', (e) => {
                e.preventDefault();
                navigateTo('payment-info-screen');
            });

            paymentForm.addEventListener('submit', (e) => {
                e.preventDefault();

                // Reset errors
                cardError.classList.add('hidden');
                expiryError.classList.add('hidden');
                cvcError.classList.add('hidden');

                let isValid = true;

                // Basic validation for demonstration
                if (cardNumberInput.value.length < 16 || !/^\d+$/.test(cardNumberInput.value)) {
                    cardError.textContent = "Please enter a valid 16-digit card number.";
                    cardError.classList.remove('hidden');
                    isValid = false;
                }

                if (!/^\d{2}\/\d{2}$/.test(expiryDateInput.value)) {
                    expiryError.textContent = "Invalid expiry date format (MM/YY).";
                    expiryError.classList.remove('hidden');
                    isValid = false;
                } else {
                    const [month, year] = expiryDateInput.value.split('/').map(Number);
                    const currentYear = new Date().getFullYear() % 100; // Last two digits
                    const currentMonth = new Date().getMonth() + 1; // 1-indexed

                    if (month < 1 || month > 12 || year < currentYear || (year === currentYear && month < currentMonth)) {
                        expiryError.textContent = "Card has expired or invalid date.";
                        expiryError.classList.remove('hidden');
                        isValid = false;
                    }
                }

                if (cvcInput.value.length < 3 || !/^\d+$/.test(cvcInput.value)) {
                    cvcError.textContent = "Invalid CVC (3 or 4 digits).";
                    cvcError.classList.remove('hidden');
                    isValid = false;
                }

                if (isValid) {
                    // Simulate successful payment
                    showMessage("Payment details accepted. Reviewing order...");
                    setTimeout(() => {
                        navigateTo('review-order-screen');
                    }, 1000); // Simulate network delay
                } else {
                    showMessage("Please correct the errors to proceed with payment.");
                }
            });

            placeOrderBtn.addEventListener('click', () => {
                showMessage("Placing your order...");
                setTimeout(() => {
                    navigateTo('confirmation-screen');
                }, 1500); // Simulate network delay
            });

            editShippingBtn.addEventListener('click', () => {
                navigateTo('shipping-info-screen');
            });

            editPaymentBtn.addEventListener('click', () => {
                navigateTo('payment-info-screen');
            });
        });
    </script>
</body>
</html>
